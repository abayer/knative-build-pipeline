{{- if .Values.pipeline.auth.git.username }}
apiVersion: v1
data:
  password: {{ .Values.pipeline.auth.git.password | b64enc | quote }}
  username: {{ .Values.pipeline.auth.git.username | b64enc | quote }}
kind: Secret
metadata:
  name: knative-git-user-pass
  annotations:
    build.knative.dev/git-0: username: {{ .Values.pipeline.auth.git.url | quote }}
type: kubernetes.io/basic-auth
{{- end }}